<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio | Abdelaziz KORCHI - Ing√©nieur IA & Full-Stack</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --blue-primary: #2563eb;
            --blue-hover: #1d4ed8;
            --zinc-900: #18181b;
            --zinc-800: #27272a;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: #050505;
            color: white;
            overflow-x: hidden;
        }
        
        /* Navbar */
        .navbar {
            position: fixed; top: 0; left: 0; right: 0; z-index: 1000;
            background: rgba(5, 5, 5, 0.8); backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        
        .nav-link { position: relative; transition: all 0.3s ease; }
        .nav-link::after {
            content: ''; position: absolute; bottom: -4px; left: 0;
            width: 0; height: 2px; background: var(--blue-primary); transition: width 0.3s ease;
        }
        .nav-link.active::after { width: 100%; }

        /* Glass effect */
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .profile-float { animation: float 6s ease-in-out infinite; }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
        }

        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #0a0a0a; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: var(--blue-primary); border-radius: 10px; }
        
        .pagination-btn {
            @apply px-4 py-2 bg-white/5 border border-white/10 rounded-lg hover:bg-blue-600 transition-all disabled:opacity-20 disabled:cursor-not-allowed;
        }

        /* Correction Iframe & Click */
        .cert-card-container { position: relative; }
        .cert-overlay { position: absolute; inset: 0; z-index: 10; cursor: pointer; }
        
        #pfe-banner { box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px); }

        /* Fix pour les vid√©os verticales */
        #modal-video {
            max-height: 70vh;
            width: auto;
            margin: 0 auto;
            display: block;
            background: #000;
        }
    </style>
</head>

<body class="custom-scrollbar">
    
    <nav id="navbar" class="navbar">
        <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="text-xl font-bold text-blue-400">AK</div>
            <div class="hidden md:flex items-center gap-8">
                <a href="#hero" class="nav-link active" data-section="hero">Accueil</a>
                <a href="#about" class="nav-link" data-section="about">√Ä Propos</a>
                <a href="#experiences" class="nav-link" data-section="experiences">Exp√©riences</a>
                <a href="#projects" class="nav-link" data-section="projects">Projets</a>
                <a href="#certs" class="nav-link" data-section="certs">Certifications</a>
                <a href="#contact" class="nav-link" data-section="contact">Contact</a>
            </div>
            <div class="flex items-center gap-4">
                <a href="Data/Korchi_Abdelaziz_CV.pdf" download class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-bold flex items-center gap-2 transition-all shadow-lg">
                    <i class="fas fa-download"></i> <span class="hidden sm:inline">Mon CV</span>
                </a>
                <button id="mobile-menu-btn" class="md:hidden text-white text-xl"><i class="fas fa-bars"></i></button>
            </div>
        </div>
    </nav>

    <div id="pfe-banner" class="fixed top-16 left-0 right-0 z-[200] bg-gradient-to-r from-blue-600 via-blue-500 to-purple-600 text-white py-4 px-6 transform -translate-y-full transition-transform duration-500 border-b-4 border-yellow-400">
        <div class="max-w-7xl mx-auto flex items-center justify-between flex-wrap gap-4">
            <div class="flex items-center gap-4">
                <div class="bg-white/30 rounded-full p-3 animate-pulse"><i class="fas fa-briefcase text-2xl"></i></div>
                <div>
                    <p class="font-extrabold text-lg md:text-xl">üîç RECHERCHE STAGE PFE</p>
                    <p class="text-sm opacity-95">4 √† 6 mois | F√©vrier 2026 | Ing√©nieur IA & Full-Stack</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <a href="#contact" class="bg-white text-blue-600 px-6 py-2 rounded-full font-bold">Me Contacter</a>
                <button onclick="closePfeBanner()"><i class="fas fa-times text-xl"></i></button>
            </div>
        </div>
    </div>

    <header id="hero" class="relative min-h-screen flex items-center justify-center pt-32 px-6 text-center">
        <div class="z-10">
            <div class="profile-float mb-10 inline-block relative">
                <img id="profile-img" src="" class="w-48 h-48 md:w-64 md:h-64 rounded-full border-4 border-white/10 p-2 bg-zinc-900 object-cover shadow-2xl">
            </div>
            <h1 id="user-name" class="text-6xl md:text-9xl font-extrabold mb-4 opacity-0 translate-y-10"></h1>
            <p id="user-title" class="text-blue-500 text-lg md:text-2xl font-medium tracking-widest uppercase mb-4 opacity-0 translate-y-10"></p>
            <div class="mb-6 opacity-0 scale-75" id="pfe-badge">
                <span class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-2 rounded-full font-bold text-sm animate-pulse">
                    <i class="fas fa-search"></i> Stage PFE | F√©vrier 2026
                </span>
            </div>
            <p id="user-description" class="text-zinc-300 max-w-3xl mx-auto mb-8 opacity-0"></p>
            <div id="hero-actions" class="flex flex-wrap gap-6 justify-center opacity-0 translate-y-10">
                <a href="#projects" class="bg-blue-600 px-10 py-4 rounded-full font-bold">Mes Projets</a>
                <a href="#contact" class="glass px-10 py-4 rounded-full font-bold">Me Contacter</a>
            </div>
        </div>
    </header>

    <section id="experiences" class="py-32 px-6 max-w-7xl mx-auto">
        <h2 class="text-5xl font-bold mb-16">Exp√©riences Professionnelles</h2>
        <div id="experiences-grid" class="space-y-8"></div>
    </section>

    <section id="projects" class="py-32 px-6 max-w-7xl mx-auto text-center">
        <h2 class="text-5xl font-bold mb-16 text-left">Projets R√©alis√©s</h2>
        <div id="projects-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16"></div>

        <div class="glass p-10 rounded-3xl border border-blue-500/20 max-w-4xl mx-auto mt-20 text-center">
            <h3 class="text-2xl font-bold mb-4">Envie d'en voir plus ? üöÄ</h3>
            <p class="text-zinc-400 mb-8 max-w-2xl mx-auto leading-relaxed">
                Cette s√©lection ne repr√©sente qu'une partie de mes travaux. Je partage r√©guli√®rement des d√©monstrations vid√©os et le code source complet de mes exp√©rimentations sur GitHub.
            </p>
            <div class="flex flex-wrap gap-6 justify-center">
                <a id="github-cta-link" href="#" target="_blank" class="bg-white text-black hover:bg-blue-600 hover:text-white px-8 py-4 rounded-full font-bold flex items-center gap-3 transition-all transform hover:scale-105 shadow-xl">
                    <i class="fab fa-github text-xl"></i>
                    <span>Voir tout mon GitHub</span>
                </a>
                <a id="youtube-cta-link" href="#" target="_blank" class="bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-full font-bold flex items-center gap-3 transition-all transform hover:scale-105 shadow-xl">
                    <i class="fab fa-youtube text-xl"></i>
                    <span>Plus de d√©mos vid√©os</span>
                </a>
            </div>
        </div>
    </section>

    <section id="certs" class="py-32 bg-zinc-950/50 px-6">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-bold mb-4">Certifications & Dipl√¥mes</h2>
                <div class="inline-block bg-blue-600/20 border border-blue-500/50 text-blue-400 px-6 py-2 rounded-full font-bold text-sm mb-4">
                    <i class="fas fa-certificate mr-2"></i> <span id="cert-count">0</span> Certifications obtenues
                </div>
                <p class="text-zinc-400">Affichage de 6 par page</p>
            </div>
            <div id="certs-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"></div>
            <div id="certs-pagination" class="flex justify-center items-center gap-4 mt-12"></div>
        </div>
    </section>

    <footer id="contact" class="py-20 bg-zinc-950 border-t border-white/5">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <h3 class="text-3xl font-bold mb-12">On travaille ensemble ?</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12 text-left">
                <div onclick="copyToClipboard(document.getElementById('footer-email').innerText, 'Email')" class="glass p-6 rounded-2xl cursor-pointer hover:border-blue-500 transition-all group">
                    <i class="fas fa-envelope text-blue-400 text-2xl mb-3"></i>
                    <p class="text-zinc-500 text-sm">Email (cliquer pour copier)</p>
                    <p id="footer-email" class="font-bold text-lg group-hover:text-blue-400 transition-colors"></p>
                </div>
                <div onclick="copyToClipboard('+212 654 353 381', 'T√©l√©phone')" class="glass p-6 rounded-2xl cursor-pointer hover:border-green-500 transition-all group">
                    <i class="fas fa-phone text-green-400 text-2xl mb-3"></i>
                    <p class="text-zinc-500 text-sm">T√©l√©phone / WhatsApp</p>
                    <p class="font-bold text-lg group-hover:text-green-400 transition-colors">+212 654 353 381</p>
                </div>
            </div>
            <div class="flex justify-center gap-8 text-3xl">
                <a id="link-linkedin-foot" href="#" target="_blank" class="text-zinc-500 hover:text-blue-400"><i class="fab fa-linkedin"></i></a>
                <a id="link-github-foot" href="#" target="_blank" class="text-zinc-500 hover:text-white"><i class="fab fa-github"></i></a>
                <a id="link-Youtube-foot" href="#" target="_blank" class="text-zinc-500 hover:text-red-500"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
    </footer>

    <div id="video-modal" class="fixed inset-0 z-[1000] hidden flex items-center justify-center p-4 bg-black/95">
        <button onclick="closeModal()" class="absolute top-8 right-8 text-white/50 text-5xl hover:text-white transition-colors"><i class="fas fa-times"></i></button>
        <div class="relative max-w-5xl w-full flex flex-col items-center gap-6" id="modal-content">
            <div class="w-full bg-black rounded-2xl overflow-hidden shadow-2xl">
                <video id="modal-video" controls class="rounded-2xl"></video>
            </div>
            <div class="w-full text-center">
                <h3 id="modal-title" class="text-3xl font-bold"></h3>
                <p id="modal-desc" class="text-zinc-400 mt-2"></p>
                <a id="modal-source" href="#" target="_blank" class="inline-flex items-center gap-2 mt-4 bg-white text-black px-6 py-2 rounded-full font-bold hover:bg-blue-600 hover:text-white transition-all">
                    <i class="fab fa-github"></i> Code Source
                </a>
            </div>
        </div>
    </div>

    <div id="cert-modal" class="fixed inset-0 z-[1000] hidden flex items-center justify-center p-4 bg-black/95">
        <button onclick="closeCertModal()" class="absolute top-8 right-8 text-white text-5xl"><i class="fas fa-times"></i></button>
        <iframe id="cert-pdf" src="" class="w-full max-w-4xl h-[80vh] rounded-2xl bg-white"></iframe>
    </div>

    <script>
        gsap.registerPlugin(ScrollTrigger);
        let projectData = [];
        let certificationsData = [];
        let currentCertPage = 1;
        const certsPerPage = 6;

        async function loadPortfolio() {
            try {
                const [profileRes, projsRes, certsRes, expRes] = await Promise.all([
                    fetch('Data/Json/profile.json'),
                    fetch('Data/Json/projets.json'),
                    fetch('Data/Json/certifs.json'),
                    fetch('Data/Json/experiences.json')
                ]);

                const profile = await profileRes.json();
                const projs = await projsRes.json();
                certificationsData = await certsRes.json();
                const experiences = await expRes.json();

                // Profile
                const p = profile.profile;
                document.getElementById('profile-img').src = p.photo;
                document.getElementById('user-name').innerText = p.fullName;
                document.getElementById('user-title').innerText = p.title;
                document.getElementById('user-description').innerText = p.description;
                document.getElementById('footer-email').innerText = p.email;
                document.getElementById('cert-count').innerText = certificationsData.length;
                
                // Links update (including the new CTA buttons)
                document.getElementById('link-linkedin-foot').href = p.social.linkedin;
                document.getElementById('link-github-foot').href = p.social.github;
                document.getElementById('link-Youtube-foot').href = p.social.youtube;
                document.getElementById('github-cta-link').href = p.social.github;
                document.getElementById('youtube-cta-link').href = p.social.youtube;

                projectData = projs.projects;
                
                // Animations
                gsap.to("#user-name", { opacity: 1, y: 0, duration: 1 });
                gsap.to("#user-title", { opacity: 1, y: 0, duration: 1, delay: 0.3 });
                gsap.to("#pfe-badge", { opacity: 1, scale: 1, duration: 0.5, delay: 0.5 });
                gsap.to("#user-description", { opacity: 1, duration: 1, delay: 0.7 });
                gsap.to("#hero-actions", { opacity: 1, y: 0, duration: 1, delay: 0.9 });

                loadExperiences(experiences.experiences);
                loadProjects();
                renderCertificates(1);
                showPfeBanner();
            } catch (err) { console.error(err); }
        }

        function loadExperiences(exps) {
            document.getElementById('experiences-grid').innerHTML = exps.map(exp => `
                <div class="glass rounded-3xl p-8 border border-white/10 hover:border-blue-500/50 transition-all">
                    <div class="flex flex-col md:flex-row gap-6">
                        <div class="w-24 h-24 bg-white rounded-2xl p-4 flex items-center justify-center shrink-0">
                            <img src="${exp.logo}" class="max-h-full object-contain">
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold">${exp.role}</h3>
                            <p class="text-blue-400 font-bold">${exp.company} | ${exp.date}</p>
                            <p class="text-zinc-300 mt-4">${exp.desc}</p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function loadProjects() {
            document.getElementById('projects-grid').innerHTML = projectData.map(p => `
                <div onclick="openProject('${p.id}')" class="glass rounded-3xl overflow-hidden group cursor-pointer border border-white/10 hover:border-blue-500/50 transition-all flex flex-col h-full">
                    <div class="relative aspect-video overflow-hidden">
                        <img src="${p.thumbnail.replace('Data/projects/', 'Data/Demo_projects/')}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
                        <div class="absolute inset-0 bg-blue-900/40 opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center backdrop-blur-sm">
                            <div class="bg-white text-black w-14 h-14 rounded-full flex items-center justify-center shadow-xl"><i class="fas fa-play ml-1"></i></div>
                        </div>
                    </div>
                    <div class="p-6 text-left">
                        <h3 class="text-xl font-bold mb-2 text-white line-clamp-1">${p.title}</h3>
                        <p class="text-zinc-400 text-sm line-clamp-2">${p.description}</p>
                    </div>
                </div>
            `).join('');
        }

        function renderCertificates(page) {
            currentCertPage = page;
            const grid = document.getElementById('certs-grid');
            const totalPages = Math.ceil(certificationsData.length / certsPerPage);
            const start = (page - 1) * certsPerPage;
            const pageData = certificationsData.slice(start, start + certsPerPage);

            grid.innerHTML = pageData.map(c => {
                const cleanPath = c.image.startsWith('Data/') ? c.image : `Data/certif/${c.image}`;
                return `
                    <div class="cert-card-container glass p-6 rounded-2xl border border-white/10 hover:border-blue-500 transition-all group">
                        <div class="cert-overlay" onclick="openCertModal('${cleanPath}')"></div>
                        <div class="h-64 mb-4 rounded-xl overflow-hidden bg-white">
                            <iframe src="${cleanPath}#toolbar=0" class="w-full h-full border-none"></iframe>
                        </div>
                        <p class="text-blue-400 text-[10px] uppercase tracking-widest font-bold text-left">${c.org}</p>
                        <h4 class="font-bold text-white text-sm line-clamp-2 mt-1 text-left">${c.title}</h4>
                    </div>
                `;
            }).join('');

            document.getElementById('certs-pagination').innerHTML = `
                <button onclick="renderCertificates(${page - 1})" ${page === 1 ? 'disabled' : ''} class="pagination-btn"><i class="fas fa-chevron-left"></i></button>
                <span class="font-bold text-blue-400">Page ${page} / ${totalPages}</span>
                <button onclick="renderCertificates(${page + 1})" ${page === totalPages ? 'disabled' : ''} class="pagination-btn"><i class="fas fa-chevron-right"></i></button>
            `;
        }

        function openProject(id) {
            const p = projectData.find(proj => proj.id == id);
            if(!p) return;
            const video = document.getElementById('modal-video');
            video.src = p.media.replace('Data/projects/', 'Data/Demo_projects/');
            document.getElementById('modal-title').innerText = p.title;
            document.getElementById('modal-desc').innerText = p.description;
            document.getElementById('modal-source').href = p.source_link;
            document.getElementById('video-modal').classList.remove('hidden');
            video.play();
        }

        function closeModal() {
            document.getElementById('video-modal').classList.add('hidden');
            document.getElementById('modal-video').pause();
        }

        function openCertModal(src) {
            document.getElementById('cert-pdf').src = src;
            document.getElementById('cert-modal').classList.remove('hidden');
        }

        function closeCertModal() {
            document.getElementById('cert-modal').classList.add('hidden');
            document.getElementById('cert-pdf').src = "";
        }

        function copyToClipboard(text, label) {
            navigator.clipboard.writeText(text);
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-10 left-1/2 -translate-x-1/2 bg-blue-600 text-white px-8 py-3 rounded-full z-[3000]';
            toast.innerText = `${label} copi√© !`;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 2500);
        }

        function closePfeBanner() { gsap.to("#pfe-banner", { y: -200 }); }
        function showPfeBanner() { setTimeout(() => gsap.to("#pfe-banner", { y: 0 }), 1500); }
        document.getElementById('mobile-menu-btn').onclick = () => document.getElementById('mobile-menu').classList.toggle('hidden');
        
        window.onload = loadPortfolio;
    </script>
</body>
</html>